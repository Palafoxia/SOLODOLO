<!doctype html>
<html lang="en"> 
 <head> 
  <meta charset="utf-8"> 
  <meta http-equiv="X-UA-Compatible" content="IE=edge"> 
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
  <link rel="shortcut icon" type="image/ico" href="/Content/images/plogo.ico"> 
  <meta property="og:url" content="https://makeagift.princeton.edu"> 
  <meta property="og:image" content="https://makeagift.princeton.edu/Content/images/AG_square.jpg"> 
  <meta property="og:description" content="Annual Giving  #agtigers"> 
  <meta name="twitter:card" value="summary"> 
  <meta name="twitter:url" value="https://makeagift.princeton.edu"> 
  <meta name="twitter:hashtags" value="agtigers"> 
  <meta name="twitter:text" value="#agtigers"> 
  <meta name="twitter:title" value="Princeton University - Annual Giving"> 
  <meta name="twitter:image" value="https://makeagift.princeton.edu/Content/images/AG_square.jpg"> 
  <meta name="twitter:description" value="Annual Giving #agtigers"> 
  <title>Princeton University | Make a gift to Annual Giving</title> 
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"> 
  <meta http-equiv="Pragma" content="no-cache"> 
  <meta http-equiv="Expires" content="-1"> 
  <link href="/Content/Site.css" rel="stylesheet" type="text/css"> 
  <script src="/Scripts/modernizr-2.6.2.js"></script> <!-- <link href='/Content/font-awesome-4.7.0/css/font-awesome.css' rel="stylesheet" /> --> 
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"> 
  <link href="/Content/css/style.css" rel="stylesheet"> 
  <link href="/Content/css/tabs.css" rel="stylesheet"> 
  <link href="/Content/css/tabstyles.css" rel="stylesheet"> 
  <link href="/Content/css/demo.css" rel="stylesheet"> 
  <script src="/Content/js/modernizr.custom.js"></script> 
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css" rel="stylesheet" type="text/css"> <!-- custom style--> 
  <link rel="Stylesheet" href="/Master/Common/Style.css"> <!-- Bootstrap Core CSS --> 
  <link href="/Content/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet"> <!-- theme Custom CSS --> 
  <link href="/Content/css/style.css" rel="stylesheet"><!-- Needed --> <!-- color CSS --> 
  <link href="/Content/css/colors/mainColor.css" rel="stylesheet"><!-- Needed important--> 
  <link rel="Stylesheet" href="/Content/main01.css"><!-- needed important--> 
  <link rel="stylesheet" href="/Content/css/jquery-ui.css"> 
  <script src="/bundles/jquery?v=Vicko9n1dXgrTExuDnyzmiQs7Iq7UDa_xZWLz291x1M1"></script> 
  <script src="/bundles/jqueryui?v=yqCVigxSu97_s_vulMWzX97PVmpAp1RUApV3df4vSeo1"></script> 
  <script type="text/javascript">
                var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-29062686-1']);
                _gaq.push(['_trackPageview']);

                (function() {
                    var ga = document.createElement('script');
                    ga.type = 'text/javascript';
                    ga.async = true;
                    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                    var s = document.getElementsByTagName('script')[0];
                    s.parentNode.insertBefore(ga, s);
                })();
            </script> <!-- Google Tag Manager --> 
  <script>
            (function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
            })(window, document, 'script', 'dataLayer', 'GTM-KGGJ45M');</script> <!-- End Google Tag Manager --> <!-- Global site tag (gtag.js) - Google Analytics --> 
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-29062686-1"></script> 
  <script>
                window.dataLayer = window.dataLayer || [];
                function gtag() { dataLayer.push(arguments); }
                gtag('js', new Date());

                gtag('config', 'UA-29062686-1');
            </script> <!-- Hotjar Tracking Code for https://alumni.princeton.edu/ --> 
  <script>
            (function (h, o, t, j, a, r) {
                h.hj = h.hj || function () { (h.hj.q = h.hj.q || []).push(arguments) };
                h._hjSettings = { hjid: 2794728, hjsv: 6 };
                a = o.getElementsByTagName('head')[0];
                r = o.createElement('script'); r.async = 1;
                r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
                a.appendChild(r);
            })(window, document, 'https://static.hotjar.com/c/hotjar-', '.js?sv=');
        </script> 
  <script src="/Scripts/bootstrap.js"></script> 
  <script src="/Scripts/bootstrap-datepicker.min.js"></script> 
  <script src="/Scripts/Custom/Index01.js" type="text/javascript"></script> 
  <script type="text/javascript">
        $(document)
            .ready(function () {


                if ('False' == "True") {
                    $('#headingThree').addClass('complete');
                }

                if ('False' == "True") {
                    $('#headingTwo').addClass('complete');
                }

                if ('False' == "True") {
                    $('#collapseThree').collapse('show');
                    $('#headingThree').addClass('active');
                    $('#headingTwo').addClass('complete');
                    $('#headingOne').addClass('complete');

                } else if ('False' == "True") {
                    $('#collapseTwo').collapse('show');
                    $('#headingTwo').addClass('active');
                    $('#headingOne').addClass('complete');
                    $("#headingThree").find('a').prop('href', "").addClass("disabled");
                } else {
                    $('#collapseOne').collapse('show');
                    $('#headingOne').addClass('active');
                    $("#headingTwo").find('a').prop('href', "").addClass("disabled");
                    $("#headingThree").find('a').prop('href', "").addClass("disabled");
                }


                                     $("#MyIFrame").addClass('CyberSource');
            });

    </script> 
 </head> 
 <body id="body" class="resDesign fix-sidebar content-wrapper" style="height: 100%;background-image: url('/Content/images/ogv_background.jpg');background-position: center center;background-repeat: no-repeat;background-attachment: fixed;background-size: cover;background-color:#464646;  min-height: 100vh;overflow: auto;"> <!-- Google Tag Manager (noscript) --> 
  <noscript> <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KGGJ45M" height="0" width="0" style="display:none;visibility:hidden"></iframe> 
  </noscript> <!-- End Google Tag Manager (noscript) --> 
  <div class="backstretch"></div> 
  <div id="wrapper"> 
   <div class="centeredContent"> 
    <nav class="navbar navbar-default  m-b-0"> 
     <div class="navbar-header" style="background-color:black"> 
      <h1 style="color: white; text-align: center; font-weight: bold; letter-spacing: 5px;"><img src="/Content/images/AG2.png" style="height: 75px;" alt="Make A Gift" background-color: rgba(255, 255, 255); background-blend-mode: lighten;>&nbsp;MAKE&nbsp;A&nbsp;GIFT</h1> 
     </div> 
    </nav> 
    <div id="page-wrapper"> 
     <div class="container-fluid"> 
      <div class="row"> 
       <div class="col-sm-12"> 
        <div class="panel-group wiz-aco" id="accordion" role="tablist" aria-multiselectable="true"> 
         <div class="panel panel-default"> 
          <div class="panel-heading" role="tab" id="headingOne"> 
           <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne"> <span class="glyphicon glyphicon-education"></span> Thank you! Your support is important to Princeton now more than ever. </a> </h4> 
          </div> 
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne"> 
           <div id="GiftInfoDiv"> 
            <div class="panel-body"> 
             <form action="/MainSite/MakeAGift/GiftSection" id="GiftSection" method="post" name="GiftSection"> 
              <div class="pageShell"> 
               <div class="rightColumn"> 
                <div class="pageShellContent"> 
                 <div class=""> 
                  <fieldset>
                   <div class="gftinstruction field-validation-error" style="display:none;">
                    We have detected your information has changed. Please press the "Continue" button to save your changes.
                   </div>
                  </fieldset> <!--   <fieldset>
                                <legend>I Want to Support Annual Giving</legend>
                        </fieldset> --> 
                  <fieldset> 
                   <h4 style="text-transform: unset"> I would like to make my Annual Giving gift....</h4> 
                   <div id="paymenttypemobile" style="padding-left:10px;">
                    <span id="textMobile"></span>
                   </div> 
                  </fieldset> 
                  <div class="custom-error-amt field-validation-error">
                   <span class="field-validation-valid" data-valmsg-for="GiftAmount" data-valmsg-replace="true"></span>
                  </div> 
                  <style>
    .bottom-arrow {
        border-bottom: 2px solid #de6f1d;
        margin-left:10px;
        margin-right:10px;
    }
    .mobileOneTime.bottom-arrow:after {
        content: '';
        position: absolute;
        left: 0;
        right: 0;
        margin: 20px 20px 20px 18%;
        width: 0;
        height: 0;
        border-top: 15px solid #de6f1d;
        border-left: 15px solid transparent;
        border-right: 15px solid transparent;
    }
    .mobileInst.bottom-arrow:after {
        content: '';
        position: absolute;
        left: 0;
        right: 0;
        margin: 20px 20px 20px 45%;
        width: 0;
        height: 0;34
        border-top: 15px solid #de6f1d;
        border-left: 15px solid transparent;
        border-right: 15px solid transparent;
    }
    .mobileRec.bottom-arrow:after {
        content: '';
        position: absolute;
        left: 0;
        right: 0;
        margin: 20px 20px 20px 74%;
        width: 0;
        height: 0;
        border-top: 15px solid #de6f1d;
        border-left: 15px solid transparent;
        border-right: 15px solid transparent;
    }

    @media only screen and (min-device-width: 320px) and (max-device-width: 480px) and (-webkit-min-device-pixel-ratio: 2) and (orientation: portrait) {
        a > .btn-lg {
            padding: 15px 16px 0 16px;
        }       

        .paymentScheduleContainer {
            width: 95%;
        }
    }


</style> 
                  <div id="result"></div> 
                  <div class="container" id="tabsPayment"> 
                   <div class="row"> 
                    <div class="col-sm-1"></div> 
                    <div class="col-xs-12 tabcontainer"> <!-- Tab Menu Section--> 
                     <div class="tabs tabs-style-bar"> 
                      <nav> 
                       <div id="tab TabSection" class="btn-group btn-group-justified" data-toggle="buttons"> <!-- One Time Payment tab --> <a href="#onetime" class="btn btn-md btn-success  active" data-toggle="tab" id="onetimeclick" role="button"> <span class="fa fa-gift"></span><br> <input type="radio" id="r11" name="PayType" value="1" required><span class="mediaselector">in one payment</span> 
                         <div class="subtext"></div> </a> <!-- recurring giving tab --> <a href="#recurring" class="btn btn-md btn-success  " data-toggle="tab" id="recurringclick"> <span class="fa fa-university "></span><br> <input type="radio" id="r12" name="PayType" value="2" required><span class="mediaselector"> recurring gift for Annual Giving </span><br> 
                         <div class="subtext"> 
                         </div> </a> 
                       </div> 
                      </nav> 
                     </div> <!-- Tab Content Section --> 
                     <div class="tab-content"> 
                      <div class="tab-pane active" id="onetime"> 
                       <div id="collapse1" class="panel-collapse collapse in" style="padding: 10px 10px;"> 
                        <div style="padding: 10px 10px;"> 
                         <div class="row"> <span class="input-group"> <span class="input-group-addon">Gift Amount: $</span> <input value="0.00" class="form-control input-lg Amt Currency formattedCurrency" data-val="true" data-val-number="The field BasePaymentAmount must be a number." data-val-required="The BasePaymentAmount field is required." id="payAmount" maxlength="8" name="OneTime.BasePaymentAmount" placeholder="0.00" type="text" value="0"> </span> 
                         </div> 
                         <div class="custom-error-amt field-validation-error"> <span class="field-validation-valid" data-valmsg-for="OneTime.BasePaymentAmount" data-valmsg-replace="true"></span>
                         </div> 
                        </div> 
                       </div> 
                      </div> 
                      <div class="tab-pane  " id="installments"> 
                       <div id="collapse3" class="panel-collapse " style="padding: 10px 10px;"> 
                        <div style="padding: 10px 10px;"> 
                         <div class="row"> <span class="input-group"> <span class="input-group-addon">Total Gift Amount: $</span> <input value="0.00" class="form-control input-lg Currency formattedCurrency" data-val="true" data-val-number="The field TotalInstallmentGiftAmount must be a number." data-val-required="The TotalInstallmentGiftAmount field is required." id="TotInstallmentAmount" maxlength="8" name="Installment.TotalInstallmentGiftAmount" placeholder="0.00" type="text" value="0"> </span> 
                         </div> 
                         <div class="custom-error-amt field-validation-error" id="InstalTotAmount"> <span class="field-validation-valid" data-valmsg-for="Installment.TotalInstallmentGiftAmount" data-valmsg-replace="true"></span>
                         </div> 
                         <div class="row" style="display: none;"> 
                          <div class="col-sm-4"> 
                           <br> Frequency 
                           <br> 
                          </div> 
                          <div class="col-sm-8" style="height: 44px"> <select class="form-control input-lg InstallmentPaymentFrequency" data-val="true" data-val-required="The InstallmentFrequency field is required." id="Installment_InstallmentFrequency" name="Installment.InstallmentFrequency"><option value="">Select Frequency</option> <option selected value="0">Monthly</option> <option value="1">Quaterly</option> <option value="2">Annually</option> </select> 
                          </div> 
                         </div> 
                         <br> 
                         <div class="container-fluid" id="paymentSchedule"> 
                          <div class="row equal center-block"> 
                           <div class="col-md-12"> 
                            <div class="paymentScheduleContainer"> 
                             <div class="row"> 
                              <div class="paymentScheduleLabel col-lg-6 col-md-6 col-sm-6">
                              Today's Payment:
                              </div>
                              <div class="paymentScheduleContent col-lg-6 col-md-12 col-sm-6 ">
                              $<span id="AmtPerInstallment" class="Amt">0</span>
                              </div> 
                             </div> 
                             <div class="row"> 
                              <div class="paymentScheduleLabel col-lg-6 col-md-6 col-sm-6">
                              Remaining Payments: 
                              </div>
                              <div class="paymentScheduleContent col-lg-6 col-md-12 col-sm-6">
                              0 <u>monthly</u> payment(s) of $<span id="InstallmentPaymentAmount">0 </span> through June 30, 2022
                              </div> 
                             </div> 
                             <div class="row"> 
                              <div class="paymentScheduleLabel col-lg-6 col-md-6 col-sm-6">
                              Next Payment Date: 
                              </div>
                              <div class="paymentScheduleContent col-lg-6 col-md-12 col-sm-6">
                              <span id="InstallStartDate">7/15/2022</span>
                              </div> 
                             </div> 
                             <hr class="divider"> 
                             <div class="row"> 
                              <div class="paymentScheduleLabel col-lg-6 col-md-6 col-sm-6">
                              Total Gift Amount: 
                              </div>
                              <div class="paymentScheduleContent col-lg-6 col-md-12 col-sm-6">
                              $<span id="TotalGift">0</span>
                              </div> 
                             </div> 
                            </div> 
                           </div> 
                          </div> 
                         </div> 
                         <div class="row"> 
                          <div class="col-sm-12"> 
                           <input class="form-control input-lg" data-val="true" data-val-number="The field NoOfInstallments must be a number." data-val-required="The NoOfInstallments field is required." id="NoOfInstallmentPayments" maxlength="8" name="Installment.NoOfInstallments" placeholder="0" style="display: none" type="text" value="0"> 
                           <div style="font-size: larger;padding:10px 10px">
                            Please note the remaining payments will be placed <u> monthly</u> through, <date></date> June 30, 2022
                           </div> 
                          </div> 
                         </div> 
                        </div> 
                       </div> 
                      </div> 
                      <div id="recurring" class="tab-pane "> 
                       <div id="collapse2" class="panel-collapse " style="padding: 10px 10px;"> 
                        <div style="padding: 10px 10px;"> 
                         <div class="row"> <span class="input-group"> <span class="input-group-addon">Gift Amount: $</span> <input value="0.00" class="form-control input-lg Amt Currency formattedCurrency" data-val="true" data-val-number="The field RecurringGiftAmount must be a number." data-val-required="The RecurringGiftAmount field is required." id="recInstallmentAmount" maxlength="8" name="Recurring.RecurringGiftAmount" placeholder="0.00" type="text" value="0"> </span> 
                         </div> 
                         <div class="custom-error-amt field-validation-error" id="InstalTotAmount"> <span class="field-validation-valid" data-valmsg-for="Recurring.RecurringGiftAmount" data-valmsg-replace="true"></span>
                         </div> 
                        </div> 
                        <div style="padding: 10px 10px;"> 
                         <div class="row"> <span class="input-group"> <span class="input-group-addon">Frequency:&nbsp;&nbsp;&nbsp;&nbsp;</span> <select class="form-control input-lg recPaymentFrequency" data-val="true" data-val-required="The RecurringFrequency field is required." id="Recurring_RecurringFrequency" name="Recurring.RecurringFrequency"><option value="">Select Frequency</option> <option selected>Monthly</option> <option>Quarterly</option> <option>Annually</option> </select> </span> 
                         </div> 
                        </div> 
                       </div> 
                       <br> 
                       <div class="row justify-content-between center" style="width: 100%;display:none"> 
                        <div class="col-md-1"></div> 
                        <div class="col-md-5"> 
                         <div class="card"> 
                          <div class="card-block"> 
                           <h5 class="card-title">Today's Gift</h5> 
                           <p class="card-text">$ <span class="Amt">0 </span></p> 
                          </div> 
                         </div> 
                        </div> 
                        <div class="col-md-1"></div> 
                        <div class="col-md-5"> 
                         <div class="card totCard"> 
                          <div class="card-block"> 
                           <h5 class="card-title">Gift Frequency</h5> 
                           <p class="card-text"> Monthly</p> 
                          </div> 
                         </div> 
                        </div> 
                        <div class="col-md-1"></div> 
                       </div> 
                       <div class="container-fluid"> 
                        <div class="row equal center-block"> 
                         <div class="col-md-12"> 
                          <div class="paymentScheduleContainer"> 
                           <div class="row">
                            <div class="paymentScheduleLabel col-md-6 col-sm-6">
                             Today's Payment:
                            </div>
                            <div class="paymentScheduleContent col-md-6 col-sm-6">
                             $<span id="recAmtPerPay" class="Amt">0 </span>
                            </div>
                           </div> 
                           <div class="row">
                            <div class="paymentScheduleLabel col-md-6 col-sm-6">
                             Frequency: 
                            </div>
                            <div class="paymentScheduleContent col-md-6 col-sm-6">
                             <span id="recFrequency"> Monthly</span>
                            </div>
                           </div> 
                           <div class="row"> 
                            <div class="paymentScheduleLabel col-md-6 col-sm-6">
                             Next Payment On: 
                            </div>
                            <div class="paymentScheduleContent col-md-6 col-sm-6">
                             <span id="recNextPayment">07/15/2022</span>
                            </div>
                           </div> 
                          </div> 
                         </div> 
                        </div> 
                       </div> 
                       <br>
                       <br>
                       <br> 
                      </div> 
                     </div> 
                    </div> 
                   </div> 
                  </div> 
                  <div id="hiddentrecFreq"></div> 
                  <input data-val="true" data-val-required="The PayType field is required." id="PayType" name="PayType" type="hidden" value="OneTimePayment"> 
                  <input data-val="true" data-val-number="The field BasePaymentAmount must be a number." data-val-required="The BasePaymentAmount field is required." id="InstallmentTodaysPayment" name="Installment.BasePaymentAmount" type="hidden" value="0"> 
                  <input data-val="true" data-val-number="The field TotalRecurringAmount must be a number." data-val-required="The TotalRecurringAmount field is required." id="TotalRecurringAmt" name="Recurring.TotalRecurringAmount" type="hidden" value="0"> 
                  <input data-val="true" data-val-number="The field NoOfRecurringPayments must be a number." data-val-required="The NoOfRecurringPayments field is required." id="RecPayNo" name="Recurring.NoOfRecurringPayments" type="hidden" value="1"> 
                  <input data-val="true" data-val-number="The field InstallmentAmount must be a number." data-val-required="The InstallmentAmount field is required." id="InstPayAmount" name="Installment.InstallmentAmount" type="hidden" value="0"> 
                  <script>
    $(document).ready(function () {        
       
        var NextQuaterlyPayment = '10/15/2022';
        var NextAnnualPayment = '06/15/2023';
        var NextMonthPayment = '07/15/2022';

        /********clear placeholder amount on focus***********/
        $("#payAmount").on('focus', function () {
            $("#payAmount").val('');
        });

        $("#TotInstallmentAmount").on('focus', function () {
            $("#TotInstallmentAmount").val('');
        });

        $("#recInstallmentAmount").on('focus', function () {
            $("#recInstallmentAmount").val('');
        });
        /******************************************************/

        /********* Added for mobile version for page reload***********/
        if ('OneTimePayment' == 'OneTimePayment') { 
            $("#textMobile").html("in one payment ");    
            $("#paymenttypemobile").addClass('mobileOneTime');

        }
        else if ('OneTimePayment' == 'RecurringPayment') {
            $("#textMobile").html("an ongoing basis");
            $("#paymenttypemobile").addClass('mobileRec');
        }
        else if ('OneTimePayment' == 'InstallmentPayment') {
            $("#textMobile").html('in recurring  payments through June 30th for annual giving');
            $("#paymenttypemobile").addClass('mobileInst');
        }

       /*********** End mobile version *********************************/

        /*********** Set mobile version UI text and bind paymentType value for model ***********/

        $("#onetimeclick").click(function () {         

            $("#textMobile").html("in one payment ");
            $("#PayType").val('OneTimePayment');
            if ($("#paymenttypemobile").hasClass('mobileInst')) {
                $("#paymenttypemobile").removeClass('mobileInst')
            }
            if ($("#paymenttypemobile").hasClass('mobileRec')) {
                $("#paymenttypemobile").removeClass('mobileRec')
            }
            $("#paymenttypemobile").addClass('mobileOneTime');
            $("#otherAmount").val($("#payAmount").val());
          
        });
        $("#installmentclick").click(function () {
            $("#textMobile").html("in recurring payments through June 30th ");
            $("#PayType").val('InstallmentPayment');
            if ($("#paymenttypemobile").hasClass('mobileOneTime')) {
                $("#paymenttypemobile").removeClass('mobileOneTime')
            }
            if ($("#paymenttypemobile").hasClass('mobileRec')) {
                $("#paymenttypemobile").removeClass('mobileRec')
            }
            $("#paymenttypemobile").addClass('mobileInst');
            $("#otherAmount").val($("#InstallmentTodaysPayment").val());
        });
        $("#recurringclick").click(function () {
            $("#textMobile").html("an ongoing basis ");
            $("#PayType").val('RecurringPayment');
            if ($("#paymenttypemobile").hasClass('mobileOneTime')) {
                $("#paymenttypemobile").removeClass('mobileOneTime')
            }
            if ($("#paymenttypemobile").hasClass('mobileInst')) {
                $("#paymenttypemobile").removeClass('mobileInst')
            }
            $("#paymenttypemobile").addClass('mobileRec');
            $("#otherAmount").val($("#recInstallmentAmount").val());
        });
        /********************************************************/


        /********* ??? set the otherAmount for  server side validation *********/

        // Amt --> TextBox for Input Amount (PerPayAmount to be verified)
        $("input.Amt").on('blur', function () {            
            $("#PerPaymentAmount").val($(this).val());//TO be verified if needed
            $("#otherAmount").val($(this).val());          
        });

          /******************************************************************/

        /**clear the Calculated Pledge Payment amount if the TotalInstallment amount is modified **/
        $("#TotInstallmentAmount").on('keypress input',
            function () {               
                $("#InstalTotAmount").html(' ');

            });
        /***************************************************/


        /************************ May needto depricated **************/
        $(".InstallmentPaymentFrequency").change(function () {
            $("#Frequency").html($(this).val());
            $("#PayFreq").val($(this).val());
            BindInstallmentData();
        });
        $("#NoOfInstallmentPayments").change(function() {
            $("#PayNumber").val($(this).val());
            BindInstallmentData();
        });

        /* end of code deprication*/

        /*************format onetimepayment on blur *************/

        $("#payAmount").on('blur', function () {
            var n = parseFloat($(this).val().replace(/\,/g, ''), 10);  
            if (n > 0)
                $("#payAmount").val(n.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            else
                $("#payAmount").val(0);
        });
        /********************************************************/

        /***** caculate payment then format currency if Installment amount > 0  ****************/
        $("#TotInstallmentAmount").on('blur',function () {              
            BindInstallmentData();
            var n = parseFloat($(this).val().replace(/\,/g, ''), 10); 
            if (n > 0)
                $("#TotInstallmentAmount").val(n.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            //    alert(n.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            else
                $("#TotInstallmentAmount").val(0);
        });
        /*****************************************************************/
        $(".recPaymentFrequency").change(function () {
            $("#recFrequency").html($(this).val());
            $("#PayFreq").val($(this).val());
            if ($(this).val().length == new String("Quarterly").length) {
                $("#recNextPayment").html(NextQuaterlyPayment);
            } else if ($(this).val().length == new String("Annually").length) {
                $("#recNextPayment").html(NextAnnualPayment);
            } else
                $("#recNextPayment").html(NextMonthPayment);
            RecNoOfPayments();
        });

        $("#recInstallmentAmount").change(function () {
            $("#TotalRecurringAmt").val($("#recInstallmentAmount").val() * $("#RecPayNo").val());            
        });


        /******** On Recurring amount chnage --> if valid ---> currency format today's payment and Gift amount*************/
        $("#recInstallmentAmount").on('blur',function () {
            var n = parseFloat($(this).val().replace(/\,/g, ''), 10); 
            if (n > 0)
                $("#recAmtPerPay").html(n.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            else
                $("#recAmtPerPay").html(n);
            if (n > 0)
                $("#recInstallmentAmount").val(n.toLocaleString('en-US', { minimumFractionDigits: 2 }));
            else
                $("#recInstallmentAmount").val(0);
        });
        /*************************************/

        $(".selectFrequency").change(function () {
            $("#Freq").html($(this).val());
            $("#GiftTot").html("$" + (parseFloat($("#otherAmount").val()) * parseFloat($("#noOfPayments").val())));
            $("#total").html("$" + (parseFloat($("#otherAmount").val()) * parseFloat($("#noOfPayments").val())));

        });
        $("#noOfPayments").change(function () {
            $("#NoOfPayments").val($(this).val());
            $("#frequency").html($(this).val());
            $("#NoOfPay").html($(this).val());
            $("#GiftTot").html("$" + (parseFloat($("#otherAmount").val()) * parseFloat($("#noOfPayments").val())));
            $("#total").html("$" + (parseFloat($("#otherAmount").val()) * parseFloat($("#noOfPayments").val())));
            //$("#PaymentFrequency").val($(this).val());
        });
        $(".selectInstallmentFrequency").change(function () {
            $("#Freq1").html($(this).val());
            $("#otherAmount").val((parseFloat($("#TotInstallmentAmount").val()) / parseFloat($("#noOfInstallments").val())));

            $("#amount1").html("$" + (parseFloat($("#otherAmount").val()) / parseFloat($("#noOfInstallments").val())));
            $("#AmtPerPay1").html("$" + (parseFloat($("#otherAmount").val()) / parseFloat($("#noOfInstallments").val())));
        });
        $("#noOfInstallments").change(function () {
            $("#NoOfPayments").val($(this).val());
            $("#frequency1").html($(this).val());
            $("#NoOfPay1").html($(this).val());
            $("#amount1").html("$" + (parseFloat($("#otherAmount").val()) / parseFloat($("#noOfInstallments").val())));
            $("#AmtPerPay1").html("$" + (parseFloat($("#otherAmount").val()) / parseFloat($("#noOfInstallments").val())));
            //$("#PaymentFrequency").val($(this).val());
        });

        $('#accordion12 input[type="radio"]').click(function () {
            $("PaymentType").val($(this).val());

        });
    });


    function BindInstallmentData() {
        
        if ($("#TotInstallmentAmount").val() > 24) {
            InstallmentPayments();
        }
        else {
            $("#AmtPerInstallment").html('');
            $("#InstallmentTodaysPayment").val(0);
            $("#InstallmentPaymentAmount").html(0);
            $("#InstallmentStartDate").html('');
            $("#InstPayAmount").val(0);
            $("#PerPaymentAmount").val(0);
            $("#TotalGift").html(" ");
            $("#AmountTotal").val(0);
            $("#otherAmount").val(0);
            $("#NoOfPayments").html(' ');
            $("#InstalTotAmount").html('Please note that the minimum total gift amount for installment payment is $25.00');
        }
        return;
    }

    function BindRecurringData() {
        var t = RecNoOfPayments();
        $("#AmtPerInstallment").html((parseFloat($("#recInstallmentAmount").val())));
        $("#recNoOfPayments").html(t);
        $("#recAmtPerInstallment").html($("#recInstallmentAmount").val());
        $("#StopDate").html($("#recStopDate").val());
    }


    function InstallmentPayments() {
        //RecurringNoOfPayments
        $.ajax({
            url: "MakeAGift/InstallmentPayments",
            type: "Get",
            data: "totAmount=" + $("#TotInstallmentAmount").val() ,
            success: function (response) {
                $("#AmtPerInstallment").html(parseFloat((response.BasePaymentAmount).toFixed(2)).toLocaleString('en-US', { minimumFractionDigits: 2 }));
                $("#InstallmentTodaysPayment").val(parseFloat((response.BasePaymentAmount).toFixed(2)));
                $("#InstallmentPaymentAmount").html(response.InstallmentAmount.toLocaleString('en-US', { minimumFractionDigits: 2 }));
                $("#InstPayAmount").val(response.InstallmentAmount);

                $("#PerPaymentAmount").val(parseFloat((response.InstallmentAmount).toFixed(2)));

                $("#TotalGift").html(response.TotalInstallmentGiftAmount.toLocaleString('en-US', { minimumFractionDigits: 2 }));

                $("#AmountTotal").val(response.TotalInstallmentGiftAmount);
                $("#otherAmount").val(response.BasePaymentAmount);
                $("#NoOfPayments").html(response.NoOfInstallments.toLocaleString('en-US', { minimumFractionDigits: 2 }));




            },
            error: function (jqXHR, textStatus, errorThrown) {
                //alert('An error occurred... Look at the console (F12 or Ctrl+Shift+I, Console tab) for more information!');+
                $('#result').html('<p>status code: ' + jqXHR.status + '</p><p>errorThrown: ' + errorThrown + '</p><p>jqXHR.responseText:</p><div>' + jqXHR.responseText + '</div>');
            } 
        });
    }

    function getFormattedCurrency(num) {
        num = parseFloat(num).toFixed(2);
        var cents = (num - Math.floor(num)).toFixed(2);
        return Math.floor(num).toLocaleString('en-US', { minimumFractionDigits: 2 }) + '.' + cents.split('.')[1];
    }

    var a = getFormattedCurrency(this.value);

    //********************** To be deprecated?? ********************

    function RecNoOfPayments() {
        //RecurringNoOfPayments
        $.ajax({
            url: "MakeAGift/RecurringNoOfPayments",
            type: "Get",
            data: "Frequency=" + $(".recPaymentFrequency  option:selected").val(),
            success: function (response) {                     
                $("#RecPayNo").val(response);
                $("#TotalRecurringAmt").val($("#recInstallmentAmount").val() * response);
            },
            error: function (jqXHR, textStatus, errorThrown) {
                //alert('An error occurred... Look at the console (F12 or Ctrl+Shift+I, Console tab) for more information!');+
                $('#result').html('<p>status code: ' + jqXHR.status + '</p><p>errorThrown: ' + errorThrown + '</p><p>jqXHR.responseText:</p><div>' + jqXHR.responseText + '</div>');
            }
        });
    }
</script> 
                  <input data-val="true" data-val-number="The field GiftAmount must be a number." data-val-range="Gift amount must be between $1 and $99999" data-val-range-max="99999" data-val-range-min="1" data-val-required="Please enter a gift amount" id="otherAmount" name="GiftAmount" type="hidden" value="0"> 
                  <fieldset> 
                   <div class="listitem" style="margin: 0 0; width: 100%; display: none;"> <span class="input-group"> <span class="input-group-addon">$</span> <label class="visuallyhidden" for="GiftAmount">GiftAmount</label> <input class="form-control input-lg" id="otherAmount" maxlength="8" name="GiftAmount" placeholder="0.00" type="text" value="0"> </span> 
                   </div> 
                  </fieldset> 
                  <div class="form-group" style="padding-top: 15px"> 
                   <fieldset> <label class="visuallyhidden" for="SpecialInstructions">SpecialInstructions</label> <textarea class="form-control col-md-9 expandable input-lg" cols="20" data-val="true" data-val-length="Comments must be 255 characters or less" data-val-length-max="255" data-val-length-min="3" id="SpecialInstructions" maxlength="255" name="SpecialInstructions" placeholder="Special instructions or comments" rows="2" style="min-height:70px">
</textarea> <span class="field-validation-valid" data-valmsg-for="SpecialInstructions" data-valmsg-replace="true"></span> 
                    <div id="charcount" class="charactercount">
                      (<span id="characters">255</span> characters remaining)
                    </div> 
                   </fieldset> 
                  </div> 
                  <fieldset> 
                   <div>
                    <label><b>Options</b></label>
                   </div> 
                  </fieldset> 
                  <div class="col-sm-12"> 
                   <div id="IntSection" style="display:none;"> 
                    <div class="div-table"> 
                     <div class="div-table-row"> 
                      <div class="div-table-col"> 
                       <div class="div-table-header">
                        Total # of Payments
                       </div> 
                       <div class="div-table-element" id="NoOfPay"></div> 
                      </div> 
                      <div class="div-table-col"> 
                       <div class="div-table-header">
                        Amount Per Payment
                       </div> 
                       <div class="div-table-element" id="AmtPerPay"></div> 
                      </div> 
                      <div class="div-table-col"> 
                       <div class="div-table-header">
                        Frequency
                       </div> 
                       <div class="div-table-element" id="Freq"></div> 
                      </div> 
                      <div class="div-table-col"> 
                       <div class="div-table-header">
                        Gift Total
                       </div> 
                       <div class="div-table-element" id="GiftTot"></div> 
                      </div> 
                     </div> 
                    </div> 
                   </div> 
                  </div> 
                  <div class="row"> 
                   <div class="col-sm-12"> 
                    <input data-val="true" data-val-required="The IsGiftCreditSplit field is required." id="IsJoint" name="IsGiftCreditSplit" type="checkbox" value="true">
                    <input name="IsGiftCreditSplit" type="hidden" value="false"> <label for="IsJoint">&nbsp;Joint gift with spouse/partner</label> <span style="display:none"> <a class="my-tool-tip" data-toggle="tooltip" data-placement="left" title="Please check tis box if your spouse or partner is a Princetonian and you would like the credit for your gift split between each of you. (Note: Your gift credit will be divided evenly (50/50) unless you specify different proportions in the comment box below.)"><i class="glyphicon glyphicon-info-sign"></i></a> </span> 
                   </div> 
                  </div> 
                  <div class="row"> 
                   <div class="col-sm-12"> 
                    <input data-val="true" data-val-required="The InHonorInMemCheckbox field is required." id="InHonorInMemCheckbox" name="InHonorInMemCheckbox" type="checkbox" value="true">
                    <input name="InHonorInMemCheckbox" type="hidden" value="false"> <label for="InHonorInMemLabel">&nbsp;In honor/memory of</label> 
                   </div> 
                  </div> 
                  <div class="row" style="display: none" id="InHonorInMemNameRow"> 
                   <div class="col-md-6 col-sm-12 gridpadding"> <select class="form-control input-lg" id="InHonorInMemOption" name="InHonorInMemOption"><option value="">-- Please select --</option> <option value="H">In honor of</option> <option value="M">In memory of</option> </select> <span class="field-validation-valid" data-valmsg-for="InHonorInMemOption" data-valmsg-replace="true"></span> 
                   </div> 
                   <div class="col-md-6 col-sm-12"> 
                    <input class="form-control input-lg float-right" id="InHonorInMemName" maxlength="60" name="InHonorInMemName" placeholder="Ex. Tiger J. Smith '00 " type="text" value=""> <span class="field-validation-valid" data-valmsg-for="InHonorInMemName" data-valmsg-replace="true"></span> 
                   </div> 
                  </div> 
                 </div> 
                 <div class="row"> 
                  <div class="col-sm-12"> 
                   <input data-val="true" data-val-required="The HasMatchingGift field is required." id="matchingGift" name="HasMatchingGift" type="checkbox" value="true">
                   <input name="HasMatchingGift" type="hidden" value="false"> <label for="matchingGift">&nbsp;Corporate matching gift </label> 
                  </div> 
                 </div> 
                 <div class="row"> 
                  <div class="col-md-12 ExMatchingGift"> <a href="http://www.matchinggifts.com/princeton/" target="_blank" rel="noopener noreferrer">Click here</a> to determine whether your company has a matching gift program. 
                  </div> 
                 </div> 
                 <div class="row ExMatchingGift"> 
                  <div class="col-lg-12 spacer-bottom"> <label class="visuallyhidden" for="CompanyName">CompanyName</label> 
                   <input class="form-control input-lg" id="txtCompanyName" maxlength="140" name="CompanyName" placeholder="Company Name" type="text" value=""> <span class="field-validation-valid" data-valmsg-for="CompanyName" data-valmsg-replace="true"></span> 
                  </div> 
                 </div> 
                 <div class="row col-sm-12"> 
                  <p class="benefits">It is <b><u>not</u></b> necessary to have a TigerNet ID. However, signing in with your TigerNet ID will automatically fill in your name and address information. <span class="standout">"Continue without Login"</span> will allow you to make a gift without signing in.</p> 
                 </div> 
                </div> 
               </div> 
              </div> 
              <input data-val="true" data-val-required="The IsContinueAsGuest field is required." id="continueAsGuest" name="IsContinueAsGuest" type="hidden" value="False">
              <input value="C" id="PaymentProvider" name="PaymentProvider" type="hidden" value="">
             </form> 
            </div> 
            <script src="/Scripts/Custom/GiftInfo.js" type="text/javascript"></script> 
           </div> 
           <div class="form-group"> 
            <div class="container-fluid" id="BtnGrp"> 
             <div class="row"> 
              <div class="col-sm-6 continue-button"> <button id="GuestLogin" type="button" class="btn btn-danger btn-lg">Continue <span class="underline">without</span> Login</button> 
              </div> 
              <div class="col-sm-6 continue-button"> <button class="btn btn-danger btn-lg spacer-bottom" type="button" id="SubmitGiftInfo">Continue <span class="underline">with</span> TigerNet ID </button> 
              </div> 
             </div> 
            </div> 
           </div> 
           <div id="LoginDlgarea"> 
            <div id="LoginDlg" style="display: none;"> 
             <form name="LogonBox" action="/MainSite/MakeAGift/TigerNetLogin" method="post" id="LogonBox"> 
              <div class="login-box"> 
               <div class="white-box"> 
                <div class="form-horizontal" id="loginform" action="Login"> 
                 <div class="form"> 
                  <h3 class="logonboxtitle box-title m-b-20">Sign In</h3> 
                  <div class="form-group "> 
                   <div class="col-sm-12 field-validation-error">
                    <div class="validation-summary-valid" data-valmsg-summary="true">
                     <ul>
                      <li style="display:none"></li> 
                     </ul>
                    </div>
                   </div> 
                   <div class="col-xs-12"> <label class="visuallyhidden" for="UserId">UserId</label> 
                    <input class="form-control input-lg" id="netID" name="UserId" placeholder="NetID" type="text" value=""> 
                   </div> 
                  </div> 
                  <div class="form-group"> 
                   <div class="col-xs-12"> <label class="visuallyhidden" for="Password">Password</label> 
                    <input value="" class="form-control input-lg" id="Password" name="Password" placeholder="Password" type="password"> 
                   </div> 
                  </div> 
                  <div class="form-group text-center m-t-20"> 
                   <div class="col-xs-12"> <button class="btn btn-danger btn-lg  text-uppercase " type="button" id="LogonBoxSubmit" onclick="javascript: LoginSubmit();">Log In</button> 
                   </div> 
                  </div> 
                  <div class="form-group m-b-0"> 
                   <div class="col-lg-12 text-center"> <b> TigerNet users (Alumni) : </b> <a href="https://puwebp.princeton.edu/tigerNet/startPage.jsf?type=A1" id="to-recover" class="text-dark pull-right"> <i class="fa fa-lock m-r-5"></i> Need help with TigerNet NetID or Password? </a> 
                   </div> 
                  </div> 
                 </div> 
                </div> 
               </div> 
              </div> 
             </form> 
             <script type="text/javascript" src="/Scripts/Custom/LogonBox.js"></script> 
            </div> 
           </div> 
          </div> 
         </div> 
         <div class="panel panel-default"> 
          <div class="panel-heading" role="tab" id="headingTwo"> 
           <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo"> <span class="glyphicon glyphicon-phone-alt"></span> Contact Information </a> </h4> 
          </div> 
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo"> 
           <div id="UserInfo"> 
           </div> 
          </div> 
         </div> 
         <div class="panel panel-default"> 
          <div class="panel-heading" role="tab" id="headingThree"> 
           <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree"> <span class="glyphicon glyphicon-ok"></span> Confirm Gift </a> </h4> 
          </div> 
          <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree"> 
           <div class="panel-body"> 
            <form action="/MainSite/MakeAGift/RecaptchaWork" method="POST" id="CaptchaFrm"> 
             <br> 
            </form> 
            <script>
       
        
    </script> 
           </div> 
          </div> 
          <div class="panel panel-default" style="display:none;"> 
           <div class="panel-heading active" role="tab" id="headingFour"> 
            <h4 class="panel-title"> <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour"> <span class="glyphicon glyphicon-credit-card"></span> Payment Information </a> </h4> 
           </div> 
           <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour"> 
            <div class="panel-body"> 
             <div class="pageShell" id="PaymentSection" style="display:none"> 
              <div class="rightColumn"> 
               <div class="pageShellContent"> 
                <fieldset> <iframe src="" name="myIframe" id="MyIFrame" align="middle"></iframe> 
                </fieldset> 
               </div> 
              </div> 
             </div> 
            </div> 
           </div> 
           <div style="display:none;" id="temp_payment"></div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
     </div> 
     <div style="display:none" id="tempform"> 
      <form action="/MainSite/MakeAGift/Error" method="post" id="ErrorFrm"></form> 
     </div> 
     <div class="footer"> 
      <div class="contactBox" style="padding-left:7%;padding-right:7%;text-align:left"> 
       <ul> 
        <li> <span class="glyphicon glyphicon-earphone"></span> You can also make a gift by calling our gift line at: <span style="font-weight: bold;">(800) 258-5421</span> within the <span>United States and Canada</span> or <span style="font-weight: bold;">(609) 258-3373</span> <span>internationally</span>. <span>To contact the Annual Giving office, please send an</span><span style="white-space:nowrap"> email to: <a id="mailTo" href="mailto:tigers@princeton.edu" style="text-decoration: underline; color: inherit;"> tigers@princeton.edu.</a></span> <span id="mobileOnlyDisplay"> To make your online gift using Venmo, please visit <a id="venmoLink" style="font-weight: lighter; text-decoration:underline;" href="/Venmo/Ag?utm_campaign=agvenmo&amp;utm_medium=website&amp;utm_source=makeagiftredirect"> https://princeton.edu/agvenmo </a> </span> </li> 
       </ul> 
      </div> 
     </div> 
     <div class="footer"> 
      <div class="contactBox"> 
       <ul> 
        <li> 
         <div class="row"> 
          <div class="copyright col-md-12 col-sm-12"> 
           <div style="text-align: center">
              <span id="ctl00_CurrentYearLabel">2022</span> &nbsp;&nbsp;The Trustees of Princeton University
           </div> 
          </div> 
         </div> 
         <div class="row"> <span> <a class="footerText " href="http://giving.princeton.edu/ag/">Annual Giving Home &nbsp;</a></span> | <span style="text-overflow: ellipsis; white-space: nowrap;"><a class="footerText " href="https://advancementdataprivacy.princeton.edu/" target="_blank">&nbsp; Advancement Data Privacy Policy</a></span> 
         </div> </li> 
       </ul> 
      </div> 
     </div> 
    </div> 
   </div> 
   <div class="modal fade" id="logout_popup" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"> 
    <div class="modal-dialog"> 
     <div class="modal-content"> 
      <div class="modal-body "> 
       <div style="width:100%;height:100%;margin: 0; padding:0"> 
        <div style="width:100%;margin: 0; padding:0;float:right;padding-top: 10px;padding-left: 3%;" id="LogoutMsg"> 
         <h4>Your session has expired. <i class="fa fa-warning" style="font-size: 20px;color:#da4f49"></i></h4> 
         <p style="font-size: 15px;">You have been logged out of the web site for your own safety.<br><br> Please click the make a gift button to start a new session</p> 
        </div> 
       </div> 
      </div> 
      <div class="clearfix"></div> 
      <div id="postTimeout" style="text-align:center;padding-bottom:10px;"> <a href="/MainSite/MakeAGift/RedirectLanding/MainSite" class="btn btn-danger btn-lg" aria-hidden="true">Make a Gift</a> 
      </div> 
     </div> 
    </div> 
   </div> 
   <script type="text/javascript">
    //session end
    var sessionTimeoutWarning = 45 -1;

    var sTimeout = parseInt(sessionTimeoutWarning) * 60 * 1000;
    setTimeout('SessionEnd()', sTimeout);

    function SessionEnd() {
        $('#logout_popup').modal('show');
    }
   /* $(function () {
        $("#wrapper").draggable();
    });*/
    </script>  
  </div>
 </body>
</html>